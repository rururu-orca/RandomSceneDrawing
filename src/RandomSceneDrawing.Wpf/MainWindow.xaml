<Window
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
      xmlns:vm="clr-namespace:RandomSceneDrawing;assembly=RandomSceneDrawing.Wpf"
      xmlns:uc="clr-namespace:LibVLCSharp.WPF;assembly=LibVLCSharp.WPF"
      x:Name="window"
      mc:Ignorable="d"
      d:DataContext="{x:Static vm:Bindings.designVm}"
      xmlns:ui="http://schemas.modernwpf.com/2019"
      Title="Random Pause  å‹•ç”»ã®ã‚·ãƒ¼ãƒ³ãŒãƒ©ãƒ³ãƒ€ãƒ ã§è¡¨ç¤ºã•ã‚Œã¾ã™"
      Background="#FF181818"
      Foreground="#FFD1D1D1">
     <i:Interaction.Triggers>
          <i:EventTrigger
                EventName="LocationChanged">
               <i:InvokeCommandAction
                     Command="{Binding WindowTopUpdatedCommand}"
                     CommandParameter="{Binding Top, ElementName=window, ValidatesOnNotifyDataErrors=True}"/>
               <i:InvokeCommandAction
                     Command="{Binding WindowLeftUpdatedCommand}"
                     CommandParameter="{Binding Left, ElementName=window, ValidatesOnNotifyDataErrors=True}"/>
          </i:EventTrigger>
          <i:EventTrigger
                EventName="Closed">
               <i:InvokeCommandAction
                     Command="{Binding WindowClosedCommand}"/>
          </i:EventTrigger>
     </i:Interaction.Triggers>
     <DockPanel
           x:Name="dockPanel"
           Margin="4">
          <StackPanel
                DockPanel.Dock="Top"
                Orientation="Horizontal">
               <Button
                     Width="128"
                     Content="{Binding DrawingCommandText}"
                     Command="{Binding DrawingCommand}"/>
               <StackPanel
                     HorizontalAlignment="Stretch">
                    <StackPanel
                          Orientation="Horizontal"
                          HorizontalAlignment="Stretch">
                         <Label
                               Content="Frames"/>
                         <Label
                               FontSize="24"
                               Width="100"
                               Visibility="{Binding DrawingServiceVisibility}"
                               Content="{Binding CurrentFrames}"/>
                         <TextBox
                               Width="50"
                               Text="{Binding FramesText}"
                               Visibility="{Binding DrawingSettingVisibility}"/>
                         <Button
                               Content="+"
                               Style="{StaticResource IconButton}"
                               Visibility="{Binding DrawingSettingVisibility}"
                               Command="{Binding IncrementFramesCommand}"/>
                         <Button
                               Content="-"
                               Style="{StaticResource IconButton}"
                               Visibility="{Binding DrawingSettingVisibility}"
                               Command="{Binding DecrementFramesCommand}"/>
                    </StackPanel>
               </StackPanel>
               <StackPanel
                     Orientation="Horizontal"
                     HorizontalAlignment="Stretch">
                    <Label
                          Content="Duration per frame:"/>
                    <Label
                          FontSize="24"
                          Content="{Binding CurrentDuration}"
                          Visibility="{Binding DrawingServiceVisibility}"/>
                    <TextBox
                          Width="50"
                          Text="{Binding DurationText}"
                          Visibility="{Binding DrawingSettingVisibility}"/>
                    <Button
                          Content="+"
                          Style="{StaticResource IconButton}"
                          Visibility="{Binding DrawingSettingVisibility}"
                          Command="{Binding IncrementDurationCommand}"/>
                    <Button
                          Content="-"
                          Style="{StaticResource IconButton}"
                          Visibility="{Binding DrawingSettingVisibility}"
                          Command="{Binding DecrementDurationCommand}"/>
               </StackPanel>
               <Label
                     Content="{Binding SourceName}"
                     Visibility="{Binding MediaPlayerVisibility}"/>
               <Label
                     Content="{Binding ScenePosition}"
                     Visibility="{Binding MediaPlayerVisibility}"/>
               <Label
                     Content=" / "
                     Visibility="{Binding MediaPlayerVisibility}"/>
               <Label
                     Content="{Binding SourceDuration}"
                     Visibility="{Binding MediaPlayerVisibility}"/>
          </StackPanel>
          <uc:VideoView
                HorizontalContentAlignment="Stretch"
                VerticalContentAlignment="Stretch"
                Visibility="{Binding MediaPlayerVisibility}"
                Background="#FF181818">
               <i:Interaction.Triggers>
                    <i:EventTrigger
                          EventName="Loaded">
                         <i:ChangePropertyAction
                               PropertyName="MediaPlayer"
                               Value="{Binding MediaPlayer}"/>
                    </i:EventTrigger>
               </i:Interaction.Triggers>
               <Grid>
                    <Rectangle
                          Fill="#FF181818"
                          HorizontalAlignment="Stretch"
                          VerticalAlignment="Stretch"
                          Visibility="{Binding MediaBlindVisibility}"/>
                    <DockPanel
                          x:Name="InnerDockPanel"
                          LastChildFill="False"
                          HorizontalAlignment="Stretch"
                          VerticalAlignment="Stretch">
                         <StackPanel
                               DockPanel.Dock="Top"
                               HorizontalAlignment="Left"
                               Orientation="Vertical">
                              <StackPanel
                                    Orientation="Horizontal"
                                    Visibility="{Binding DrawingSettingVisibility}">
                                   <Button
                                         Width="128"
                                         Content="ðŸ”€ Show Random ðŸ”€"
                                         Command="{Binding RandomizeCommand}"/>
                                   <Button
                                         Command="{Binding PlayCommand}"
                                         Style="{StaticResource IconButton}"
                                         Content="â–¶"/>
                                   <Button
                                         Command="{Binding PauseCommand}"
                                         Style="{StaticResource IconButton}"
                                         Content="â¸"/>
                                   <Button
                                         Command="{Binding StopCommand}"
                                         Style="{StaticResource IconButton}"
                                         Content="â¹"/>
                              </StackPanel>
                              <DockPanel
                                    Visibility="{Binding DrawingSettingVisibility}">
                                   <Button
                                         DockPanel.Dock="Left"
                                         Width="128"
                                         Content="PlayList"
                                         Command="{Binding SetPlayListFilePathCommand}"
                                         Visibility="{Binding DrawingSettingVisibility}"/>
                                   <TextBox
                                         Text="{Binding PlayListFilePathText}"
                                         Visibility="{Binding DrawingSettingVisibility}"
                                         HorizontalAlignment="Stretch"/>
                              </DockPanel>
                              <DockPanel
                                    Visibility="{Binding DrawingSettingVisibility}">
                                   <Button
                                         DockPanel.Dock="Left"
                                         Width="128"
                                         Content="SnapShotFolder"
                                         Command="{Binding SetSnapShotFolderPathCommand}"
                                         Visibility="{Binding DrawingSettingVisibility}"/>
                                   <TextBox
                                         Text="{Binding SnapShotFolderPathText}"
                                         Visibility="{Binding DrawingSettingVisibility}"
                                         HorizontalAlignment="Stretch"/>
                              </DockPanel>
                         </StackPanel>
                         <StackPanel
                               DockPanel.Dock="Bottom"
                               Height="28">
                              <Label
                                    Opacity="0"
                                    HorizontalAlignment="Left"
                                    Content="{Binding StatusMessage}"
                                    Foreground="#FF0C0C0C"/>
                         </StackPanel>
                    </DockPanel>
               </Grid>
          </uc:VideoView>
     </DockPanel>
</Window>