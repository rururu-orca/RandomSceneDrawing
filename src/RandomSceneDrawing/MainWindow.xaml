<Window
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:vm="clr-namespace:RandomSceneDrawing;assembly=RandomSceneDrawing.Core"
    xmlns:uc="clr-namespace:LibVLCSharp.WPF;assembly=LibVLCSharp.WPF" 
    mc:Ignorable="d"
    d:DataContext="{x:Static vm:Program.designVm}"
    Title="MainWindow">
    <DockPanel x:Name="dockPanel" Margin="8" ClipToBounds="false">
        <StackPanel Orientation="Horizontal" HorizontalAlignment="Stretch" DockPanel.Dock="Top" >
            <TextBlock Margin="10">
                <Run FontSize="24" Foreground="gray" Text="Random Pause"/>
                <LineBreak/>
                <Run Text="動画のシーンがランダムで表示されます."/>
            </TextBlock>
            <TextBlock Foreground="DarkBlue" FontSize="30" HorizontalAlignment="Left"
                       VerticalAlignment="Center" Margin="100,0,0,0" 
                       Text="{Binding CurrentFrames}" Visibility="{Binding DrawingServiceVisibility}"/>
            <TextBlock Foreground="DarkBlue" FontSize="30" HorizontalAlignment="Left" 
                       VerticalAlignment="Center" Margin="50,0,0,0" 
                       Text="{Binding CurrentDuration}" Visibility="{Binding DrawingServiceVisibility}"/>
        </StackPanel>
        <StackPanel Orientation="Horizontal" HorizontalAlignment="Stretch" DockPanel.Dock="Top">
            <Button Margin="5,5,50,5" HorizontalAlignment="Right" Content="{Binding DrawingCommandText}" Command="{Binding DrawingCommand}" >
            </Button>
            <StackPanel HorizontalAlignment="Stretch">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Stretch">
                    <TextBlock Margin="5" VerticalAlignment="Center"><Run Text="Frames"/></TextBlock>
                    <TextBox Width="50" Margin="5" VerticalAlignment="Center" 
                             Text="{Binding FramesText}" TextAlignment="Center"/>
                    <Button Width="25" Margin="5" Content="+" Command="{Binding IncrementFrames}"/>
                    <Button Width="25" Margin="5" Content="-" Command="{Binding DecrementFrames}"/>
                </StackPanel>
            </StackPanel>
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Stretch">
                <TextBlock Margin="5" VerticalAlignment="Center">
                    <Run Text="Duration per frame:"/>
                </TextBlock>
                <TextBox Width="50" Margin="5" VerticalAlignment="Center"
                         Text="{Binding DurationText}" TextAlignment="Center"/>
                <Button Width="25" Margin="5" Content="+" Command="{Binding IncrementDuration}"/>
                <Button Width="25" Margin="5" Content="-" Command="{Binding DecrementDuration}"/>
            </StackPanel>
        </StackPanel>
        <StackPanel Orientation="Horizontal" HorizontalAlignment="Stretch" DockPanel.Dock="Top">
            <Button Content="Play" Command="{Binding Play}" MaxWidth="240" Margin="5"/>
            <Button Content="Pause" Command="{Binding Pause}" MaxWidth="240" Margin="5"/>
            <Button Content="Stop" Command="{Binding Stop}" MaxWidth="240" Margin="5"/>
            <Button Content="Show Random" Command="{Binding Randomize}" MaxWidth="240" Margin="30,5,5,5"/>
            <TextBlock Margin="5" VerticalAlignment="Center" Text="{Binding SourceName}"
                       Visibility="{Binding MediaPlayerVisibility}"/>
            <TextBlock VerticalAlignment="Center" Text="{Binding ScenePosition}"
                       Visibility="{Binding MediaPlayerVisibility}"/>
            <TextBlock Text="/" VerticalAlignment="Center"
                       Visibility="{Binding MediaPlayerVisibility}"/>
            <TextBlock VerticalAlignment="Center" Text="{Binding SourceDuration}"
                       Visibility="{Binding MediaPlayerVisibility}"/>
            <TextBlock Margin="5" VerticalAlignment="Center"/>
        </StackPanel>
        <uc:VideoView HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch"
            Visibility="{Binding MediaPlayerVisibility}" >
            <i:Interaction.Triggers>
                <i:EventTrigger EventName="Loaded">
                    <i:ChangePropertyAction PropertyName="MediaPlayer" Value="{Binding MediaPlayer}"/>
                </i:EventTrigger>
            </i:Interaction.Triggers>
        </uc:VideoView>

    </DockPanel>
</Window>