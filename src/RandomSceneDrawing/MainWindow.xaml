<Window
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:vm="clr-namespace:RandomSceneDrawing;assembly=RandomSceneDrawing.Core"
    xmlns:uc="clr-namespace:LibVLCSharp.WPF;assembly=LibVLCSharp.WPF" 
    mc:Ignorable="d"
    d:DataContext="{x:Static vm:Program.designVm}"
    Title="Random Pause" Background="#FF181818" Foreground="#FFD1D1D1">
    <DockPanel x:Name="dockPanel" Margin="0" ClipToBounds="false" Background="Black">

        <uc:VideoView HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch" Background="Black"
            Visibility="{Binding MediaPlayerVisibility}" >
            <i:Interaction.Triggers>
                <i:EventTrigger EventName="Loaded">
                    <i:ChangePropertyAction PropertyName="MediaPlayer" Value="{Binding MediaPlayer}"/>
                </i:EventTrigger>
            </i:Interaction.Triggers>
            <DockPanel LastChildFill="False">
                <StackPanel DockPanel.Dock="Top" HorizontalAlignment="Left" Orientation="Vertical">
                    <StackPanel Orientation="Horizontal" Height="30" >
                        <TextBlock Foreground="#FFD4D4D4" TextWrapping="Wrap" Margin="4" Background="Black" ><Run Text="動画のシーンがランダムで表示されます." /></TextBlock>
                        <TextBlock Foreground="#FFD4D4D4" FontSize="30" HorizontalAlignment="Left"
                            VerticalAlignment="Center" Margin="100,0,0,0" 
                            Text="{Binding CurrentFrames}" Visibility="{Binding DrawingServiceVisibility}" FontFamily="Courier New" />
                        <TextBlock Foreground="#FFD4D4D4" FontSize="30" HorizontalAlignment="Left" 
                            VerticalAlignment="Center" Margin="50,0,0,0" 
                            Text="{Binding CurrentDuration}" Visibility="{Binding DrawingServiceVisibility}" FontFamily="Courier New"/>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal">
                        <Button Margin="5,5,50,5" HorizontalAlignment="Right" Content="{Binding DrawingCommandText}" Command="{Binding DrawingCommand}" />
                        <StackPanel HorizontalAlignment="Stretch">
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Stretch">
                                <TextBlock  Foreground="#FFD4D4D4" Margin="5" VerticalAlignment="Center"><Run Text="Frames"/></TextBlock>
                                <TextBox Width="50" Margin="5" VerticalAlignment="Center" 
                             Text="{Binding FramesText}" TextAlignment="Center"/>
                                <Button Width="25" Margin="5" Content="+" Command="{Binding IncrementFrames}"/>
                                <Button Width="25" Margin="5" Content="-" Command="{Binding DecrementFrames}"/>
                            </StackPanel>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Stretch">
                            <TextBlock  Foreground="#FFD4D4D4" Margin="5" VerticalAlignment="Center"><Run Text="Duration per frame:"/></TextBlock>
                            <TextBox Width="50" Margin="5" VerticalAlignment="Center"
                         Text="{Binding DurationText}" TextAlignment="Center"/>
                            <Button Width="25" Margin="5" Content="+" Command="{Binding IncrementDuration}"/>
                            <Button Width="25" Margin="5" Content="-" Command="{Binding DecrementDuration}"/>
                        </StackPanel>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal">
                        <Button Command="{Binding Play}" MaxWidth="240" Margin="5">
                            <mah:FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE768;" />
                        </Button>
                        <Button Command="{Binding Pause}" MaxWidth="240" Margin="5">
                            <mah:FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE769;" />
                        </Button>
                        <Button Command="{Binding Stop}" MaxWidth="240" Margin="5">
                            <mah:FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE71A;" />
                        </Button>
                        <Button Content="🔀 Show Random 🔀" Command="{Binding Randomize}" MaxWidth="240" Margin="30,5,5,5"/>
                        <TextBlock  Foreground="#FFD4D4D4" Margin="5" VerticalAlignment="Center" Text="{Binding SourceName}"
                       Visibility="{Binding MediaPlayerVisibility}"/>
                        <TextBlock  Foreground="#FFD4D4D4" VerticalAlignment="Center" Text="{Binding ScenePosition}"
                       Visibility="{Binding MediaPlayerVisibility}"/>
                        <TextBlock  Foreground="#FFD4D4D4" Text=" / " VerticalAlignment="Center"
                       Visibility="{Binding MediaPlayerVisibility}"/>
                        <TextBlock  Foreground="#FFD4D4D4" VerticalAlignment="Center" Text="{Binding SourceDuration}"
                       Visibility="{Binding MediaPlayerVisibility}"/>
                        <TextBlock  Foreground="#FFD4D4D4" Margin="5" VerticalAlignment="Center"/>
                    </StackPanel>


                </StackPanel>
                <StackPanel DockPanel.Dock="Bottom" Height="16" >

                    <Label Content="{Binding StatusMessage}"  Foreground="#FFD4D4D4"/>
                </StackPanel>
            </DockPanel>
        </uc:VideoView>

    </DockPanel>
</Window>